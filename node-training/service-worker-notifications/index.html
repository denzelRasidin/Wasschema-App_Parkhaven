<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Demo</title>
  <link rel="manifest" href="./manifest.json">
</head>
<body>

Run this index.html with http-server

<script src="https://www.gstatic.com/firebasejs/5.4.2/firebase.js"></script>
<script>
  // Initialize Firebase
  const config = {
    apiKey: "AIzaSyBN5qsGqVAzWwOgnYYToNFOYcLvCE0zXM0",
    authDomain: "fir-531f4.firebaseapp.com",
    databaseURL: "https://fir-531f4.firebaseio.com",
    projectId: "fir-531f4",
    storageBucket: "fir-531f4.appspot.com",
    messagingSenderId: "932886716822"
  };
  firebase.initializeApp(config);

  // Retrieve Firebase Messaging object.
  const messaging = firebase.messaging();

  // Add the public key generated from the console here.
  messaging.usePublicVapidKey(
    "BApTsn3OqzuBCvL0OR-Zuwrenm6YhB18Vo3UDZ4QD4mYjKmhRQUsej8gfhWCM-7bb8g5BsDk3-6WDNuo6RvkraU");

  messaging.requestPermission().then(() => {
    console.log('Notification permission granted.');
    // Retrieve an Instance ID token for use with FCM.
    return messaging.getToken();
  }).then(token => {
    console.log('messaging.getToken()', token);

    if (token) {

    } else {
      // Show permission request.
      console.log('No Instance ID token available. Request permission to generate one.');
      // Show permission UI.

    }
  }).catch(err => {
    console.error('Unable to get permission to notify.', err);
  });

  messaging.onMessage(payload => {
    console.log('onMessage:', payload);
  });

  messaging.onTokenRefresh(function () {
    messaging.getToken().then(function (refreshedToken) {
      console.log('Token refreshed.', refreshedToken);
    }).catch(function (err) {
      console.log('Unable to retrieve refreshed token ', err);
    });
  });


</script>
</body>
</html>
